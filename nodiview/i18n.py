"""
Lightweight translation helper for nodiView.
"""

from __future__ import annotations

from typing import Dict

SUPPORTED_LANGUAGES = {
    "en": "English",
    "de": "Deutsch",
    "es": "Español",
    "fr": "Français",
    "uk": "Українська",
}

TRANSLATIONS: Dict[str, Dict[str, str]] = {
    "de": {
        "Settings": "Einstellungen",
        "About": "Über",
        "Open image": "Bild öffnen",
        "Images": "Bilder",
        "Optimize": "Optimieren",
        "Edit": "Bearbeiten",
        "Rotate 90°": "90° drehen",
        "Rotate 180°": "180° drehen",
        "Rotate 270°": "270° drehen",
        "Mirror horizontally": "Horizontal spiegeln",
        "Mirror vertically": "Vertikal spiegeln",
        "Previous image": "Vorheriges Bild",
        "Next image": "Nächstes Bild",
        "Optimize image": "Bild optimieren",
        "JPEG": "JPEG",
        "PNG": "PNG",
        "GIF": "GIF",
        "Resize": "Größe",
        "Preview": "Vorschau",
        "Cancel": "Abbrechen",
        "Generate preview": "Vorschau erstellen",
        "Save": "Speichern",
        "Quality:": "Qualität:",
        "Chroma subsampling:": "Chroma-Subsampling:",
        "None (4:4:4)": "Keines (4:4:4)",
        "Low (4:2:2)": "Niedrig (4:2:2)",
        "Medium (4:2:0)": "Mittel (4:2:0)",
        "High (4:1:1)": "Hoch (4:1:1)",
        "Progressive JPEG:": "Progressives JPEG:",
        "Grayscale:": "Graustufen:",
        "Keep EXIF metadata:": "EXIF-Metadaten behalten:",
        "Compression level:": "Kompressionsstufe:",
        "Reduce color palette:": "Farbreduzierung:",
        "Keep alpha channel:": "Alpha-Kanal behalten:",
        "Interlaced:": "Interlaced:",
        "Number of colors:": "Anzahl Farben:",
        "Dithering:": "Dithering:",
        "Preserve animation:": "Animation beibehalten:",
        "Interpolation filter:": "Interpolationsfilter:",
        "New size:": "Neue Größe:",
        "Width": "Breite",
        "Height": "Höhe",
        "Percent:": "Prozent:",
        "Preserve aspect ratio:": "Seitenverhältnis beibehalten:",
        "Image saved": "Bild gespeichert",
        "Could not open file: {}": "Datei konnte nicht geöffnet werden: {}",
        "Image viewer": "Bildbetrachter",
        "Preferences": "Einstellungen",
        "Language": "Sprache",
        "Restart nodiView to apply the new language.": "Bitte nodiView neu starten, um die Sprache zu übernehmen.",
        "Close": "Schließen",
        "Output format:": "Zielformat:",
        "Format": "Format",
        "Original": "Original",
        "File: {}": "Datei: {}",
        "Size: {:.2f} MB": "Größe: {:.2f} MB",
        "Size: {:.2f} KB": "Größe: {:.2f} KB",
        "No preview generated": "Keine Vorschau erstellt",
        "Saved: {:.2f} KB ({:.1f}%)": "Eingespart: {:.2f} KB ({:.1f}%)",
        "Saved: {:.0f} bytes ({:.1f}%)": "Eingespart: {:.0f} Bytes ({:.1f}%)",
        "Increased: {:.2f} KB ({:.1f}%)": "Erhöht: {:.2f} KB ({:.1f}%)",
        "Size:": "Größe:",
        "Proportional": "Proportional",
        "Percent": "Prozent",
        "Nearest Neighbor": "Nächster Nachbar",
        "Bilinear": "Bilinear",
        "Bicubic (Mitchell-Netravali)": "Bikubisch (Mitchell-Netravali)",
        "Bicubic (Catmull-Rom)": "Bikubisch (Catmull-Rom)",
        "B-Spline": "B-Spline",
        "Lanczos3": "Lanczos3",
    },
    "es": {
        "Settings": "Configuración",
        "About": "Acerca de",
        "Open image": "Abrir imagen",
        "Images": "Imágenes",
        "Optimize": "Optimizar",
        "Edit": "Editar",
        "Rotate 90°": "Rotar 90°",
        "Rotate 180°": "Rotar 180°",
        "Rotate 270°": "Rotar 270°",
        "Mirror horizontally": "Espejo horizontal",
        "Mirror vertically": "Espejo vertical",
        "Previous image": "Imagen anterior",
        "Next image": "Imagen siguiente",
        "Optimize image": "Optimizar imagen",
        "JPEG": "JPEG",
        "PNG": "PNG",
        "GIF": "GIF",
        "Resize": "Redimensionar",
        "Preview": "Vista previa",
        "Cancel": "Cancelar",
        "Generate preview": "Generar vista previa",
        "Save": "Guardar",
        "Quality:": "Calidad:",
        "Chroma subsampling:": "Submuestreo de croma:",
        "None (4:4:4)": "Ninguno (4:4:4)",
        "Low (4:2:2)": "Bajo (4:2:2)",
        "Medium (4:2:0)": "Medio (4:2:0)",
        "High (4:1:1)": "Alto (4:1:1)",
        "Progressive JPEG:": "JPEG progresivo:",
        "Grayscale:": "Escala de grises:",
        "Keep EXIF metadata:": "Mantener metadatos EXIF:",
        "Compression level:": "Nivel de compresión:",
        "Reduce color palette:": "Reducir paleta de colores:",
        "Keep alpha channel:": "Mantener canal alfa:",
        "Interlaced:": "Entrelazado:",
        "Number of colors:": "Número de colores:",
        "Dithering:": "Tramado:",
        "Preserve animation:": "Conservar animación:",
        "Interpolation filter:": "Filtro de interpolación:",
        "New size:": "Nuevo tamaño:",
        "Width": "Ancho",
        "Height": "Alto",
        "Percent:": "Porcentaje:",
        "Preserve aspect ratio:": "Mantener proporción:",
        "Image saved": "Imagen guardada",
        "Could not open file: {}": "No se pudo abrir el archivo: {}",
        "Image viewer": "Visor de imágenes",
        "Preferences": "Preferencias",
        "Language": "Idioma",
        "Restart nodiView to apply the new language.": "Reinicie nodiView para aplicar el nuevo idioma.",
        "Close": "Cerrar",
        "Output format:": "Formato de salida:",
        "Format": "Formato",
        "Original": "Original",
        "File: {}": "Archivo: {}",
        "Size: {:.2f} MB": "Tamaño: {:.2f} MB",
        "Size: {:.2f} KB": "Tamaño: {:.2f} KB",
        "No preview generated": "No se generó vista previa",
        "Saved: {:.2f} KB ({:.1f}%)": "Ahorrado: {:.2f} KB ({:.1f}%)",
        "Saved: {:.0f} bytes ({:.1f}%)": "Ahorrado: {:.0f} bytes ({:.1f}%)",
        "Increased: {:.2f} KB ({:.1f}%)": "Aumentado: {:.2f} KB ({:.1f}%)",
        "Size:": "Tamaño:",
        "Proportional": "Proporcional",
        "Percent": "Porcentaje",
        "Nearest Neighbor": "Vecino más cercano",
        "Bilinear": "Bilineal",
        "Bicubic (Mitchell-Netravali)": "Bicúbico (Mitchell-Netravali)",
        "Bicubic (Catmull-Rom)": "Bicúbico (Catmull-Rom)",
        "B-Spline": "B-Spline",
        "Lanczos3": "Lanczos3",
    },
    "fr": {
        "Settings": "Paramètres",
        "About": "À propos",
        "Open image": "Ouvrir une image",
        "Images": "Images",
        "Optimize": "Optimiser",
        "Edit": "Éditer",
        "Rotate 90°": "Rotation 90°",
        "Rotate 180°": "Rotation 180°",
        "Rotate 270°": "Rotation 270°",
        "Mirror horizontally": "Miroir horizontal",
        "Mirror vertically": "Miroir vertical",
        "Previous image": "Image précédente",
        "Next image": "Image suivante",
        "Optimize image": "Optimiser l’image",
        "JPEG": "JPEG",
        "PNG": "PNG",
        "GIF": "GIF",
        "Resize": "Redimensionner",
        "Preview": "Aperçu",
        "Cancel": "Annuler",
        "Generate preview": "Générer un aperçu",
        "Save": "Enregistrer",
        "Quality:": "Qualité :",
        "Chroma subsampling:": "Sous-échantillonnage de chrominance :",
        "None (4:4:4)": "Aucun (4:4:4)",
        "Low (4:2:2)": "Faible (4:2:2)",
        "Medium (4:2:0)": "Moyen (4:2:0)",
        "High (4:1:1)": "Élevé (4:1:1)",
        "Progressive JPEG:": "JPEG progressif :",
        "Grayscale:": "Niveaux de gris :",
        "Keep EXIF metadata:": "Conserver les métadonnées EXIF :",
        "Compression level:": "Niveau de compression :",
        "Reduce color palette:": "Réduire la palette de couleurs :",
        "Keep alpha channel:": "Conserver le canal alpha :",
        "Interlaced:": "Entrelacé :",
        "Number of colors:": "Nombre de couleurs :",
        "Dithering:": "Tramage :",
        "Preserve animation:": "Conserver l’animation :",
        "Interpolation filter:": "Filtre d’interpolation :",
        "New size:": "Nouvelle taille :",
        "Width": "Largeur",
        "Height": "Hauteur",
        "Percent:": "Pourcentage :",
        "Preserve aspect ratio:": "Conserver le ratio :",
        "Image saved": "Image enregistrée",
        "Could not open file: {}": "Impossible d’ouvrir le fichier : {}",
        "Image viewer": "Visionneuse d’images",
        "Preferences": "Préférences",
        "Language": "Langue",
        "Restart nodiView to apply the new language.": "Redémarrez nodiView pour appliquer la nouvelle langue.",
        "Close": "Fermer",
        "Output format:": "Format de sortie :",
        "Format": "Format",
        "Original": "Original",
        "File: {}": "Fichier : {}",
        "Size: {:.2f} MB": "Taille : {:.2f} Mo",
        "Size: {:.2f} KB": "Taille : {:.2f} Ko",
        "No preview generated": "Aperçu non généré",
        "Saved: {:.2f} KB ({:.1f}%)": "Économisé : {:.2f} Ko ({:.1f}%)",
        "Saved: {:.0f} bytes ({:.1f}%)": "Économisé : {:.0f} octets ({:.1f}%)",
        "Increased: {:.2f} KB ({:.1f}%)": "Augmenté : {:.2f} Ko ({:.1f}%)",
        "Size:": "Taille :",
        "Proportional": "Proportionnel",
        "Percent": "Pourcentage",
        "Nearest Neighbor": "Plus proche voisin",
        "Bilinear": "Bilinéaire",
        "Bicubic (Mitchell-Netravali)": "Bicubique (Mitchell-Netravali)",
        "Bicubic (Catmull-Rom)": "Bicubique (Catmull-Rom)",
        "B-Spline": "B-Spline",
        "Lanczos3": "Lanczos3",
    },
    "uk": {
        "Settings": "Налаштування",
        "About": "Про програму",
        "Open image": "Відкрити зображення",
        "Images": "Зображення",
        "Optimize": "Оптимізувати",
        "Edit": "Редагувати",
        "Rotate 90°": "Повернути на 90°",
        "Rotate 180°": "Повернути на 180°",
        "Rotate 270°": "Повернути на 270°",
        "Mirror horizontally": "Віддзеркалити горизонтально",
        "Mirror vertically": "Віддзеркалити вертикально",
        "Previous image": "Попереднє зображення",
        "Next image": "Наступне зображення",
        "Optimize image": "Оптимізувати зображення",
        "JPEG": "JPEG",
        "PNG": "PNG",
        "GIF": "GIF",
        "Resize": "Зміна розміру",
        "Preview": "Перегляд",
        "Cancel": "Скасувати",
        "Generate preview": "Створити перегляд",
        "Save": "Зберегти",
        "Quality:": "Якість:",
        "Chroma subsampling:": "Субдискретизація кольору:",
        "None (4:4:4)": "Немає (4:4:4)",
        "Low (4:2:2)": "Низька (4:2:2)",
        "Medium (4:2:0)": "Середня (4:2:0)",
        "High (4:1:1)": "Висока (4:1:1)",
        "Progressive JPEG:": "Прогресивний JPEG:",
        "Grayscale:": "Відтінки сірого:",
        "Keep EXIF metadata:": "Зберігати EXIF дані:",
        "Compression level:": "Рівень стиснення:",
        "Reduce color palette:": "Зменшити палітру:",
        "Keep alpha channel:": "Зберегти альфа-канал:",
        "Interlaced:": "Черезрядкове:",
        "Number of colors:": "Кількість кольорів:",
        "Dithering:": "Дізеринг:",
        "Preserve animation:": "Зберегти анімацію:",
        "Interpolation filter:": "Фільтр інтерполяції:",
        "New size:": "Новий розмір:",
        "Width": "Ширина",
        "Height": "Висота",
        "Percent:": "Відсоток:",
        "Preserve aspect ratio:": "Зберігати пропорції:",
        "Image saved": "Зображення збережено",
        "Could not open file: {}": "Не вдалося відкрити файл: {}",
        "Image viewer": "Переглядач зображень",
        "Preferences": "Налаштування",
        "Language": "Мова",
        "Restart nodiView to apply the new language.": "Перезапустіть nodiView, щоб застосувати нову мову.",
        "Close": "Закрити",
        "Output format:": "Формат виводу:",
        "Format": "Формат",
        "Original": "Оригінал",
        "File: {}": "Файл: {}",
        "Size: {:.2f} MB": "Розмір: {:.2f} МБ",
        "Size: {:.2f} KB": "Розмір: {:.2f} КБ",
        "No preview generated": "Попередній перегляд не створено",
        "Saved: {:.2f} KB ({:.1f}%)": "Збережено: {:.2f} КБ ({:.1f}%)",
        "Saved: {:.0f} bytes ({:.1f}%)": "Збережено: {:.0f} байтів ({:.1f}%)",
        "Increased: {:.2f} KB ({:.1f}%)": "Збільшено: {:.2f} КБ ({:.1f}%)",
        "Size:": "Розмір:",
        "Proportional": "Пропорційно",
        "Percent": "Відсоток",
        "Nearest Neighbor": "Найближчий сусід",
        "Bilinear": "Білінійний",
        "Bicubic (Mitchell-Netravali)": "Бікубічний (Мітчелл-Нетравалі)",
        "Bicubic (Catmull-Rom)": "Бікубічний (Кетмалл-Ром)",
        "B-Spline": "B-Сплайн",
        "Lanczos3": "Ланцош3",
    },
}

_current_language = "en"


def set_language(language_code: str) -> None:
    """Set the current UI language."""
    global _current_language
    if language_code in SUPPORTED_LANGUAGES:
        _current_language = language_code
    else:
        _current_language = "en"


def get_current_language() -> str:
    """Return the currently active language code."""
    return _current_language


def _(message: str) -> str:  # noqa: D401
    """Translate a message based on the current language."""
    return TRANSLATIONS.get(_current_language, {}).get(message, message)


